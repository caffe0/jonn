using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class Player : MonoBehaviour
{
  public Animator anim;
  public Rigidbody2D rb;
  public float moveSpeed;

  public float X, Y;
  private bool isWalking;
  private Vector2 moveDir;

  private void Start()
  {
      rb = GetComponent<Rigidbody2D>();


  }
  private void Update()
  {
    X = Input.GetAxisRaw("Horizontal");
    Y = Input.GetAxisRaw("Vertical");

    if(X != 0 || Y != 0)
    {
        anim.SetFloat("X", X);
        anim.SetFloat("Y", Y);
        if(!isWalking)
        {
            isWalking = true;
            anim.SetBool("isMoving", isWalking);
        }
    }else
    {
        if(isWalking)
        {
            isWalking = false;
            anim.SetBool("isMoving", isWalking);
            StopMoving();

        }
    }
    moveDir = new Vector2(X, Y).normalized;
}
private void FixedUpdate()
{
    rb.velocity = moveDir * moveSpeed * Time.deltaTime;
}
private void StopMoving()
    {
        rb.velocity = Vector3.zero;
    }
}
